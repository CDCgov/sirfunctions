# sirfunctions

``` r
library(sirfunctions)
```

Here are some of the core functions included in `sirfunctions` with
brief descriptions. The list is not exhaustive, and many more functions
are available to the users. Please visit the [package
website](https://cdcgov.github.io/sirfunctions) for full function
specifications.

**NOTE**: Any functions getting data or those that interact with EDAV
require authenticated connection to CDC EDAV resources.

### Get Data

1.  [`get_all_polio_data()`](https://cdcgov.github.io/sirfunctions/reference/get_all_polio_data.md):
    this is the primary function which loads all recent polio data.
    Parameters can be used to specify date ranges, data selection and
    user verification.
2.  [`sirfunctions_io()`](https://cdcgov.github.io/sirfunctions/reference/sirfunctions_io.md):
    perform key writing/reading/editing functions on EDAV and locally.
3.  `load_clean_{resolution}_sp`: ’resolution\` can be *dist*, *prov* or
    *ctry*. Parameters can be used to specify date or spatial ranges as
    well as the output.
4.  [`init_dr()`](https://cdcgov.github.io/sirfunctions/reference/init_dr.md):
    this is the primary function to initialize the desk review analytic
    pipeline. This function handles folder organization and download of
    data for a specific country. Visualization functions in the desk
    review will be downloaded as well.
5.  [`init_kpi()`](https://cdcgov.github.io/sirfunctions/reference/init_kpi.md):
    this function initializes the KPI analytic pipeline. Sets up the
    folder structure, downloads the global polio dataset, and links to
    the template for use in the analysis.
6.  [`explore_edav()`](https://cdcgov.github.io/sirfunctions/reference/explore_edav.md):
    interactively navigate the Azure Storage Explorer environment.

### Communications

1.  [`send_teams_message()`](https://cdcgov.github.io/sirfunctions/reference/send_teams_message.md):
    send a message to a teams channel with attachments.
2.  [`upload_to_sharepoint()`](https://cdcgov.github.io/sirfunctions/reference/upload_to_sharepoint.md):
    upload a document to a sharepoint folder.
3.  [`send_outlook_email()`](https://cdcgov.github.io/sirfunctions/reference/send_outlook_email.md):
    send an email from the validated microsoft account.

### Key calculations

1.  [`extract_country_data()`](https://cdcgov.github.io/sirfunctions/reference/extract_country_data.md):
    expects a list object that is generated by
    [`get_all_polio_data()`](https://cdcgov.github.io/sirfunctions/reference/get_all_polio_data.md).
    Filters the output of
    [`get_all_polio_data()`](https://cdcgov.github.io/sirfunctions/reference/get_all_polio_data.md)
    for a specific country or multiple countries.
2.  [`f.ev.rate.01()`](https://cdcgov.github.io/sirfunctions/reference/f.ev.rate.01.md):
    calculate the enterovirus detection rate using CDC cleaned
    environmental surveillance data.
3.  [`f.npafp.rate.01()`](https://cdcgov.github.io/sirfunctions/reference/f.npafp.rate.01.md):
    calculate the non-polio (NP) acute flaccid paralysis (AFP) rate
    accounting for person-time at risk using CDC cleaned AFP data and
    appropriately matched population data.
4.  [`f.stool.ad.01()`](https://cdcgov.github.io/sirfunctions/reference/f.stool.ad.01.md):
    calculate stool adequacy using CDC cleaned acute flaccid paralysis
    (AFP) data.
5.  [`f.timely.detection.01()`](https://cdcgov.github.io/sirfunctions/reference/f.timely.detection.01.md):
    calculate the timeliness of detection of cases using CDC cleaned
    acute flaccid paralysis (AFP) data.
6.  [`f.timely.01()`](https://cdcgov.github.io/sirfunctions/reference/f.timely.01.md):
    calculate the timeliness of stool data using only epi data.

### Visualization

1.  [`create_emergence_group_gif()`](https://cdcgov.github.io/sirfunctions/reference/create_emergence_group_gif.md):
    function to visualize the spread of specific emegrence groups.
2.  [`generate_adhoc_map()`](https://cdcgov.github.io/sirfunctions/reference/generate_adhoc_map.md):
    function to visualize recent polio outbreaks.

### Helper functions

1.  [`test_EDAV_connection()`](https://cdcgov.github.io/sirfunctions/reference/test_EDAV_connection.md):
    Evaluates the speed of connection that users have with the CDC EDAV
    system.
2.  [`f.color.schemes()`](https://cdcgov.github.io/sirfunctions/reference/f.color.schemes.md):
    Adds Standard color schemes used in figure creation by the SIR team.
3.  [`f.expand.bbox()`](https://cdcgov.github.io/sirfunctions/reference/f.expand.bbox.md):
    Expands a geographic bounding box generated for maps.
4.  [`f.metadata.tag()`](https://cdcgov.github.io/sirfunctions/reference/f.metadata.tag.md):
    Adds a tag using information from the CDC generated ‘raw.data’ file
    to ggplot and flextable objects.
5.  [`f.plot.looks()`](https://cdcgov.github.io/sirfunctions/reference/f.plot.looks.md):
    Adds standard themes used in figure creation by the SIR team.
6.  [`duplicate_check()`](https://cdcgov.github.io/sirfunctions/reference/duplicate_check.md):
    checks for duplicates in the output of
    [`get_all_polio_data()`](https://cdcgov.github.io/sirfunctions/reference/get_all_polio_data.md).
7.  [`check_afp_guid_ctry_data()`](https://cdcgov.github.io/sirfunctions/reference/check_afp_guid_ctry_data.md):
    checks for GUIDS present in the AFP dataset but not in the
    population files.
8.  [`fix_ctry_data_missing_guids()`](https://cdcgov.github.io/sirfunctions/reference/fix_ctry_data_missing_guids.md):
    fixes unknown GUIDS in the AFP linelist by obtaining GUIDs found in
    the pop files based on province and district names for specific
    years.
9.  [`compress_png()`](https://cdcgov.github.io/sirfunctions/reference/compress_png.md):
    compress PNG files. *Note: requires installation of the pngquant
    software.*
10. [`get_diff_cols()`](https://cdcgov.github.io/sirfunctions/reference/get_diff_cols.md):
    get the columns where records differ in a group. Useful for
    identifying where duplicates differ.
